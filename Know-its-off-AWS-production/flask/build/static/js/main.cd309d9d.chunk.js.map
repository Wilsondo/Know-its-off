{"version":3,"sources":["axios.js","components/logs.js","components/navbar.js","components/default.js","components/login.js","components/signup.js","components/logout.js","components/grid/DragItem.js","components/grid/Grid.js","components/grid/GridContext.js","components/tile.js","components/grid/GridApp.js","components/home.js","components/editDevice.js","components/editUser.js","components/addDevice.js","components/device.js","App.js","index.js"],"names":["axiosBaseURL","Axios","create","baseURL","batteryLogs","props","state","battery","device_battery","timestamp_time","error","loading","dbString","this","match","params","handle","get","then","result","setState","data","className","size","color","redirect","to","error_response","Fragment","map","Date","toLocaleString","style","display","margin","Component","MyNavbar","toggleNavbar","bind","collapsed","classOne","classTwo","onClick","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","Default","Login","doLogin","event","postLoading","post","email","password","flag","history","push","catch","preventDefault","handleChange","target","name","value","onChange","aria-describedby","placeholder","Signup","doSignup","alert","passwordConf","Logout","DragItem","memo","onMoveItem","children","ref","useRef","useDrag","item","collect","monitor","isDragging","connectDrag","useDrop","accept","hover","hoveredOverItem","connectDrop","containerStyle","opacity","React","Children","child","cloneElement","forwardedRef","Grid","styled","div","GridItemWrapper","GridItem","moveElement","array","index","offset","oldIndex","newIndex","length","splice","move","GridContext","createContext","items","GridProvider","setItems","Cookies","i","j","items_copy","slice","cookie_idList","JSON","parse","myArr","moveItem","sourceId","destinationId","sourceIndex","findIndex","destinationIndex","idList","set","Provider","Tile","device_id","appliance_name","device_state","timestamp","statusText","background","myDate","Card","bg","Header","Title","Body","Text","GridApp","useContext","Home","count_dev_state","arr","x","app_result","num_on","context","console","log","response","contextType","EditUser","toChange","handleAccordion","ex1","expanded1","ex2","expanded2","ex3","expanded3","doEmail","loading1","undefined","current","patch","changeLoad","doPass","loading2","oldPass","pass","checkPass","status","delete","loading3","window","confirm","deleteconfirm","Accordion","expanded","AccordionSummary","expandIcon","AccordionDetails","addDevice","postData","allDevices","idVerify","String","myDevice","revealDetails","handleChangeDevice","min","step","editDevice","updateDevice","newDevice","idCheck","Devices","deleteDevice","data-placement","title","NavRoute","exact","path","component","render","App","Device","Logs","ReactDOM","DndProvider","backend","TouchBackend","options","enableMouseEvents","document","getElementById"],"mappings":"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","file":"static/js/main.cd309d9d.chunk.js","sourcesContent":["/****************************************************************************************************\r\n * FILENAME: axios.js\r\n * DESCRIPTION: Create an importable variable that can be used to allow for API access via Axios\r\n * AUTHOR(S): Capstone 2020-2021 (Tyler Titsworth)\r\n * NOTES: Change the baseURL to match whatever a user would put as their URL to access. When using \r\n * localhost, the port is dependant on what service hosts the frontend.\r\n ****************************************************************************************************/\r\nimport Axios from 'axios';\r\nconst axiosBaseURL = Axios.create({\r\n    // 3000 for react-scripts (yarn start-dev)\r\n    // 5000 for /build (yarn start)\r\n\t//baseURL:'http://localhost:5000/api',\r\n    baseURL:'https://know-its-off.com/api/',\r\n});\r\nexport default axiosBaseURL\r\n","/****************************************************************************************************\r\n * FILENAME: logs.js\r\n * DESCRIPTION: Display Battery logs that a device has and allow for users to download a CSV of the \r\n * battery data.\r\n * AUTHOR(S): Capstone 2020-2021 (Tyler Titsworth)\r\n * NOTES: Links from device.js\r\n ****************************************************************************************************/\r\nimport React, {Component} from 'react';\r\nimport { Redirect} from 'react-router-dom';\r\nimport {CircleSpinner} from 'react-spinners-kit';\r\nimport axiosBaseURL from '../axios.js';\r\nimport CsvDownload from 'react-json-to-csv';\r\n\r\nexport default class batteryLogs extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\t\r\n\t\t\tbattery: [\r\n                {device_battery: 100.0, timestamp_time: \"\"}\r\n            ],\r\n\t\terror: false,\r\n\t\tloading: true\r\n\t\t}\r\n\t};\r\n\tcomponentDidMount() {\r\n\t\tconst handle = this.props.match.params.handle;\r\n\t\tvar dbString = \"/batteryLogs/\" + handle\r\n\t\taxiosBaseURL.get(dbString) // retrieve battery logs data using the API\r\n\t\t.then((result) => {\r\n\t\t\tthis.setState({ \r\n\t\t\t\tbattery: result.data\r\n\t\t\t});\r\n\t\t\tthis.setState({loading: false})\r\n\t\t})\r\n\t};\r\n\trender() {\r\n\t\tif(this.state.loading) {\r\n\t\t\treturn (\r\n\t\t\t  <div className=\"d-flex justify-content-center m-5\">\r\n\t\t\t\t <CircleSpinner size={60} color=\"#686769\" loading={this.state.loading} />\r\n\t\t\t  </div>)\r\n\t\t}\r\n\t\tif(this.state.error) {\r\n\t\t\tif(this.state.redirect) {return <Redirect to={this.state.redirect} />}\r\n\t\t\treturn(<div><h3>Error 404, Page Not Found</h3><h3>{this.state.error_response}</h3></div>)\r\n\t\t}\r\n\t\treturn(\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{this.state.battery.map((battery) => ( // Map each element in the battery array as an individual card object\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   // These card objects have an individual device battery and timestamp time\r\n\t\t\t\t\t<div className=\"col mt-3 text-light\">\r\n\t\t\t\t\t<div className=\"card bg-dark\">\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t<p className=\"card-text\">Battery: {battery.device_battery}%</p>\r\n\t\t\t\t\t\t\t\t<p className=\"card-text\">Last Seen: {new Date(battery.timestamp_time).toLocaleString()}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t// CSVDownload is a button object that allows for data to be converted to said format\r\n\t\t\t\t// Do not mess with spacing, it's perfect\r\n\t\t\t\t))}\r\n\t\t\t\t<CsvDownload style={{display: \"flex\", margin: \"1em\"}} className=\"btn btn-info float-right footer affix\" data={this.state.battery}>Download CSV</CsvDownload>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n","/****************************************************************************************************\n * FILENAME: navbar.js\n * DESCRIPTION: Displays a navigation bar within the header of a page that uses the NavRoute identifier\n * Features a collapsable mode and variable link definitions\n * AUTHOR(S): Capstone 2020-2021 (Tyler Titsworth)\n * NOTES: Spacing is finicky, add elements but don't take away without risk of breaking spacing\n ****************************************************************************************************/\nimport React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\n\nexport default class MyNavbar extends Component {\n/* Toggle taken from https://www.bennettnotes.com/bootstrap-navbar-collapse-reactjs/ */\n   constructor(props){\n      super(props);\n      this.toggleNavbar = this.toggleNavbar.bind(this);\n      this.state ={\n         collapsed: true\n      };\n   }\n   // Basic toggle function\n   toggleNavbar() {\n      this.setState({ collapsed: !this.state.collapsed });\n   }\n\n\trender(){\n      const collapsed = this.state.collapsed;\n      // There are two types of navbar depending on the width of a given page\n      // The state of the navbar is determined by the collapsed variable, which is logically composed by a ternary operator\n      const classOne = collapsed ? 'collapse navbar-collapse justify-content-between' : 'collapse nav-bar collapse show justify-content-between';\n      const classTwo = collapsed ? 'navbar-toggler navbar-toggler-right collapsed' : 'navbar-toggler navbar-toggler-right';\n      // To add new Link identifiers use lines 40-44 as an example\n\t\treturn(\n<nav className=\"navbar bg-primary navbar-expand-lg navbar-dark\">\n  <Link to=\"/home\" className=\"navbar-brand\">Know It's Off</Link>\n  <button onClick={this.toggleNavbar} className={`${classTwo}`} type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n    <span className=\"navbar-toggler-icon\"></span>\n  </button>\n  <div className={`${classOne}`} id=\"navbarNavAltMarkup\">\n    <div className=\"navbar-nav\">\n      <Link to=\"/device/new\" className=\"nav-item nav-link text-light\">New Device</Link>\n      <Link to=\"/user/edit\" className=\"nav-item nav-link text-light\">Edit User</Link>\n    </div>\n    <div className=\"navbar-nav\">\n         <Link to=\"/logout\" className=\"nav-item nav-link text-light\">Logout</Link>\n    </div>\n   </div>\n</nav>\n\t\t)\n\t}\n}\n\n","/****************************************************************************************************\n * FILENAME: default.js\n * DESCRIPTION: 404 Error page\n * AUTHOR(S): Capstone 2019-2020\n * NOTES: \n ****************************************************************************************************/\nimport React, {Component} from 'react'\n\nexport default class Default extends Component {\n\trender(){\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<h3>404 Error: Page not found</h3>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n","/****************************************************************************************************\n * FILENAME: login.js\n * DESCRIPTION: Provide User Login through a page with a simple form\n * AUTHOR(S): Capstone 2020-2021 (Tyler Titsworth)\n * NOTES: Consider this to be the starting point in the navigation screen tree\n ****************************************************************************************************/\nimport React, {Component} from 'react'\nimport {CircleSpinner} from 'react-spinners-kit' \nimport {Link} from 'react-router-dom';\nimport axiosBaseURL from '../axios.js'\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n\t    loading: false,\n\t    email: \"\",\n\t    password: \"\",\n      error: false,\n      flag: false, \n\t    postLoading: false, \n    };\n  }\n  // The Submit button function checks the credentials given in the form\n  doLogin = (event) => {\n\t  this.setState({postLoading:true});\n\t  axiosBaseURL.post('/login', {email: this.state.email, password: this.state.password})\n\t  .then( // if the credentials were successful redirect the user to the home page\n\t\t  (result) =>{this.setState({postLoading: false, flag:false}); \n      this.props.history.push(\"/home\"); \n    })\n    .catch((error)=>{this.setState({postLoading:false, flag:true}); // if they failed set the error flag bit and prevent refreshing\n    })\n\t  event.preventDefault();\n  };\n  // Function to handle form changes and set the value field in a given form identifier\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n  // Render a container with an email, password form fields with proper labels. Contains a submission button and registration button that leads to signup.js\n\trender(){\n\t\tif(this.state.loading){\n      \t\t\treturn (<div className=\"d-flex justify-content-center m-5\"><CircleSpinner size={60} color=\"#686769\" loading={this.state.loading} /></div>)\n    }\n    const {flag} = this.state;\n\t\treturn(\n<div className=\"mt-5 mb-5 container bg-dark border\">\n<div className=\"row justify-content-md-center text-light mt-5\">\n<h1>Log In to Know It's Off</h1>\n</div>\n<div className=\"row justify-content-md-center text-light mb-5\">\n<form>\n  <div className=\"form-group\">\n    {flag && ( // This message only appears when the API post request to /login fails\n      <div className=\"text-danger\">*Email or password incorrect</div>\n    )}\n    <label>Email address</label>\n    <input name=\"email\" type=\"email\" className=\"form-control\" value={this.state.email} onChange={this.handleChange} id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter email\" />\n  </div>\n  <div className=\"form-group\">\n    <label>Password</label>\n    <input name=\"password\" type=\"password\" onChange={this.handleChange} value={this.state.password} className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Password\" />\n  </div>\n  <button onClick={this.doLogin} className=\"btn btn-primary\">Submit<CircleSpinner size={20} color=\"#3BBCE5\" loading={this.state.postLoading} /></button>\n  <Link id=\"signupHelp\" to=\"/signup\" className=\"form-text text-muted\">Register New User</Link>\n</form>\n</div>\n</div>\n\t\t)\n\t}\n\t\n\n}\n\n","/****************************************************************************************************\n * FILENAME: signup.js\n * DESCRIPTION: Provide User Registration through a page with a simple form\n * AUTHOR(S): Capstone 2020-2021 (Tyler Titsworth)\n * NOTES: Links from login.js\n ****************************************************************************************************/\nimport React, {Component} from 'react'\nimport {CircleSpinner} from 'react-spinners-kit' \nimport axiosBaseURL from '../axios.js'\n\nexport default class Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      email: \"\",\n      password: \"\",\n      error: false,\n      postLoading: false\n    };\n  }\n  // The Submit button function attempts to post a new user with the given form email and password to the API\n  // If the axios function call is success, redirect the user to login.js\n  // If the axios function call fails tell the user and prevent the page from refreshing\n  doSignup = (event) => {\n\t  this.setState({postLoading:true});\n\t    axiosBaseURL.post('/user', {email: this.state.email, password: this.state.password})\n\t    .then((result) =>{this.setState({postLoading: false}); \n        this.props.history.push(\"/login\"); \n      })\n      .catch((error)=>{this.setState({postLoading:false});\n        alert(\"Invalid email and password\");\n      })\n    event.preventDefault();\n  };\n  // Page handler function will allow a form field to change its assigned value parameter\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n  // Render form content\n\trender(){\n\t\tif(this.state.loading){\n      return (<div className=\"d-flex justify-content-center m-5\"><CircleSpinner size={60} color=\"#686769\" loading={this.state.loading} /></div>)\n\t\t}\n\t\treturn( // Create a container that houses the form, the header is just the title\n            // Each field changes a state field using the handleChange function, their form control format is determined by the 'type' identifier\n            // The submit button executes the API call\n<div className=\"mt-5 mb-5 container bg-dark border\">\n<div className=\"row justify-content-md-center mt-5\">\n<h1>Sign up to Know It's Off</h1>\n</div>\n<div className=\"row justify-content-md-center mb-5\">\n<form>\n  <div className=\"form-group\">\n    <label>Email address</label>\n    <input name=\"email\" type=\"email\" className=\"form-control\" value={this.state.email} onChange={this.handleChange} id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter email\" />\n  </div>\n  <div className=\"form-group\">\n    <label>Password</label>\n    <input name=\"password\" type=\"password\" onChange={this.handleChange} value={this.state.password} className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Password\" />\n  </div>\n  <div className=\"form-group\">\n    <label>Confirm Password</label>\n    <input name=\"passwordConf\" type=\"password\" onChange={this.handleChange} value={this.state.passwordConf} className=\"form-control\" id=\"exampleInputPassword2\" placeholder=\"Password\" />\n  </div>\n  <button onClick={this.doSignup} className=\"btn btn-primary\">Submit<CircleSpinner size={20} color=\"#3BBCE5\" loading={this.state.postLoading} /></button>\n</form>\n</div>\n</div>\n\t\t)\n\t}\n\t\n\n}\n\n","/****************************************************************************************************\n * FILENAME: logout.js\n * DESCRIPTION: File serves as a redirection path to change the user login state\n * AUTHOR(S): Capstone 2020-2021 (Tyler Titsworth)\n * NOTES: \n ****************************************************************************************************/\nimport React, {Component} from 'react'\nimport { Redirect } from 'react-router-dom';\nimport axiosBaseURL from '../axios.js'\n\n\nexport default class Logout extends Component {\n   constructor(props) {\n      super(props);\n      this.state = {\n         error: false,\n         redirect: \"/\"\n      };\n   }\n    \n   render(){\n        if(this.state.error){\n            return(<div className=\"m-5 text-light\"><h3>Error 404, Page Not Found</h3></div>)\n        }\n      axiosBaseURL.get('/logout') // Remove user login status\n      .then(() => {\n         this.props.history.push('/login'); // Redirect to login page\n      })\n      .catch(() => { // If for whatever reason this fails redirect to login anways\n         return(   \n            <Redirect to='/' />\n         )\n      })\n      return(   \n         <Redirect to='/' />\n      )\n    }\n}","/****************************************************************************************************\n * FILENAME: DragItem.js\n * DESCRIPTION: Enable Tile dragging within the Drag-n-Drop Grid Context\n * AUTHOR(S): Capstone 2019-2020\n * NOTES: I wish it had comments so I knew what was going on. It looks like it enables drag properties, \n * but it's not clear how to customize this to increase clarity in dnd mechanics\n * A change was made 05/10/21 to \n ****************************************************************************************************/\nimport React, { memo, useRef } from \"react\";\nimport { useDrag, useDrop } from \"react-dnd\";\n\nconst DragItem = memo(({ id, onMoveItem, children }) => {\n  const ref = useRef(null);\n\n  const [{ isDragging }, connectDrag] = useDrag({ // https://github.com/react-dnd/react-dnd/releases/tag/v14.0.0\n    type: \"IMG\",\n    item: () => ({id}),\n    collect: monitor => {\n      return {\n        isDragging: monitor.isDragging()\n      };\n    }\n  });\n\n  const [, connectDrop] = useDrop({\n    accept: \"IMG\",\n    hover(hoveredOverItem) {\n      if (hoveredOverItem.id !== id) {\n        onMoveItem(hoveredOverItem.id, id);\n      }\n    }\n  });\n\n  connectDrag(ref);\n  connectDrop(ref);\n\n  const opacity = isDragging ? 0.5 : 1;\n  const containerStyle = { opacity };\n\n  return React.Children.map(children, child =>\n    React.cloneElement(child, {\n      forwardedRef: ref,\n      style: containerStyle\n    })\n  );\n});\n\nexport default DragItem;\n","/****************************************************************************************************\n * FILENAME: Grid.jss\n * DESCRIPTION: Declares parameters of grid for styling purposes\n * AUTHOR(S): Capstone 2019-2020\n * NOTES: This is depreciated\n ****************************************************************************************************/\nimport React from \"react\";\nimport styled from \"styled-components\";\n\nexport const Grid = styled.div`\n  width: 100%;\n  padding: 0px 10px 0px 10px;\n  display: flex;\n  justify-content: start;\n  flex-wrap: wrap;\n`;\n\n/*export const GridImage = styled.div`\n  flex-grow: 1;\n  border: 1px solid white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-image: ${props => `url(\"${props.src}\")`};\n  background-size: cover;\n  background-position: 50%;\n`;*/\n\nconst GridItemWrapper = styled.div`\n  flex: 0 0 25%;\n  flex-grow: 0.75;\n  min-width: 250px;\n  max-width: 500px;\n  max-height: 270px;\n  display: flex;\n  justify-content: center;\n  align-items: stretch;\n  box-sizing: border-box;\n  :before {\n    content: \"\";\n    display: table;\n    padding-top: 100%;\n  }\n`;\n\nexport const GridItem = ({ forwardedRef, ...props }) => (\n  <GridItemWrapper ref={forwardedRef} {...props} />\n);\n","/****************************************************************************************************\n * FILENAME: GridContext.js\n * DESCRIPTION: Create a Grid Context\n * AUTHOR(S): Capstone 2019-2020\n * NOTES: This is depreciated, and very messy. I wish I knew what was going on. We wanted to \n * replace this with just a library that does it for us\n ****************************************************************************************************/\nimport React, { Component, createContext } from \"react\";\nimport Cookies from 'js-cookie';\n\n//import { GridContextProvider } from \"react-grid-dnd\";\n\n// Helper functions\n\nfunction move(array, oldIndex, newIndex) {\n  if (newIndex >= array.length) {\n    newIndex = array.length - 1;\n  }\n  array.splice(newIndex, 0, array.splice(oldIndex, 1)[0]);\n  return array;\n}\n\nfunction moveElement(array, index, offset) {\n  const newIndex = index + offset;\n\n  return move(array, index, newIndex);\n}\n\n/*function findIndexofItems(i, items_copy, cookie_items) {\n  return items_copy.findIndex(item => item.id === cookie_items[i].id) \n}*/\n\n// Context\n\nconst GridContext = createContext({ items: [] });\n\nexport class GridProvider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n      moveItem: this.moveItem,\n      setItems: this.setItems\n    };\n  }\n\n  render() {\n    return (\n      <GridContext.Provider value={this.state}>\n        {this.props.children}\n      </GridContext.Provider>\n    );\n  }\n\n  setItems = items => {\n    if(!Cookies.get('idList') && items){\n      this.setState({items})\n    }\n    else{\n      var i, j\n      var items_copy = items.slice()\n      //retreive cookie\n      var cookie_idList = JSON.parse(Cookies.get('idList'));\n      var myArr = []\n      //reorder items based on cookie_idList\n      for(i in cookie_idList){\n         for(j in items_copy){\n            const itemID = items_copy[j].id\n            const cookieID = cookie_idList[i]\n            if(itemID === cookieID){\n               myArr.push(items_copy[j])\n               items_copy.splice(j,1)\n            }\n          }\n        }\n      }\n      for(i in items_copy){myArr.push(items_copy[i])}\n      if(myArr){\n         this.setState({items: myArr})\n      }\n  };\n\n  moveItem = (sourceId, destinationId) => {\n    const sourceIndex = this.state.items.findIndex(\n      item => item.id === sourceId\n    );\n    const destinationIndex = this.state.items.findIndex(\n      item => item.id === destinationId\n    );\n\n    // If source/destination is unknown, do nothing.\n    if (sourceId === -1 || destinationId === -1) {\n      return;\n    }\n\n    const offset = destinationIndex - sourceIndex;\n\n    this.setState(state => ({\n      items: moveElement(state.items, sourceIndex, offset)\n    }));\n\n    //store items in cookie\n    var i\n    var idList = []\n    for(i in this.state.items){\n       idList.push(this.state.items[i].id)\n    }\n    Cookies.set('idList', idList)\n  };\n}\n\nexport default GridContext;\n","/****************************************************************************************************\n * FILENAME: tile.js\n * DESCRIPTION: Provided device information in home.js, display a single tile with that device's \n * information.\n * AUTHOR(S): Capstone 2020-2021 (Tyler Titsworth)\n * NOTES: \n ****************************************************************************************************/\nimport React, {Component} from 'react';\nimport Card from 'react-bootstrap/Card'\nimport {Link} from 'react-router-dom';\nimport {CircleSpinner} from 'react-spinners-kit';\n\nexport default class Tile extends Component {\n   // These state components rely on item property assignments declared in ./grid/GridApp\n   // Those assignments are always passed from an array generated in ./home.js\n   state={\n      device_id: this.props.device_id,\n      appliance_name: this.props.appliance_name,\n      device_state: this.props.state,\n      // Notice the battery is missing from this implementation, to see the battery one must travel to device.js\n      timestamp: this.props.timestamp, \n      statusText: \"OFF\",\n      background: \"light\",\n      loading: true,\n   }\n   // On page load, determine device state and change the background and status text accordingly\n   componentDidMount() {\n      if(this.props.state === 1){\n         this.setState({\n            background: \"success\", // This state object is used to determine a bootstrap entity, so success is just a color\n            statusText: \"ON\"\n         })\n      }\n      else if(this.props.state === 2){ // This state describes a device that hasn't had a state written to it yet, \n                                       //which means the addDevice.js file was the last to write to this object\n         this.setState({\n            background: \"warning\", \n            statusText: \"UNINITIALIZED\"\n         })\n      }\n      else if(this.props.state === 0){\n         this.setState({background: \"danger\"})\n      }\n      this.setState({loading: false})\n   }\n\n   render(){\n      var myDate\n      if (this.state.timestamp === \"N/A\") myDate = this.state.timestamp;\n      else {\n         myDate = new Date(this.state.timestamp);\n         myDate = myDate.toLocaleString();\n      }\n      if(this.state.loading) {\n         return (\n            <div className=\"d-flex justify-content-center m-5\">\n               <CircleSpinner size={60} color=\"#686769\" loading={this.state.loading} />\n            </div>)\n      } // Render a card object, bootstrap styles this object\n        // The Detail Link leads to editDevice.js\n      return(\n         <Card bg={this.state.background} className=\"tile text-center col\">\n            <Card.Header>\n               <Card.Title className=\"card-title-device\">{this.state.appliance_name} : <b>{this.state.device_id}</b></Card.Title>\n            </Card.Header>\n            <Card.Body>\n               <Card.Title className=\"card-title-status\">{this.state.statusText}</Card.Title>\n               <Card.Text className=\"card-text-device_state\">{this.state.state}</Card.Text>\n               <Card.Text className=\"card-text-timestamp\">Last Seen: {myDate}</Card.Text>\n               <Link className=\"card-button btn btn-primary text-wrap\" to={\"/device/\"+this.state.device_id}>Details</Link>\n            </Card.Body>\n         </Card>\n      )\n   }\n}\n","/****************************************************************************************************\n * FILENAME: GridApp.js\n * DESCRIPTION: Generate a grid instance and map tiles for each device item\n * AUTHOR(S): Capstone 2019-2020\n * NOTES: All I did was change the item keys\n ****************************************************************************************************/\nimport React, { useContext} from \"react\";\nimport DragItem from \"./DragItem\";\nimport { Grid, GridItem } from \"./Grid\";\nimport GridContext from \"./GridContext\";\nimport Tile from \"../tile.js\";\n\nfunction GridApp(props) {\n  const {items, moveItem} = useContext(GridContext);\n\n  return (\n    <div className=\"GridApp\">\n      <Grid>\n        {items.map(item => (\n          <DragItem key={item.id} id={item.id} onMoveItem={moveItem}>\n            <GridItem>\n              <Tile key={item.id} device_id={item.id} device_battery={item.device_battery} appliance_name={item.appliance_name} state={item.device_state} timestamp={item.timestamp} />\n            </GridItem>\n          </DragItem>\n        ))}\n      </Grid>\n    </div>\n  );\n}\n\nexport default GridApp;\n","/****************************************************************************************************\n * FILENAME: home.js\n * DESCRIPTION: Home page for Know It's Off, runs grid application to host tile.js objects along with\n * navbar\n * AUTHOR(S): Capstone 2020-2021 (Tyler Titsworth)\n * NOTES: Page loads from top down, navbar before page mounting, grid context after page mounting\n ****************************************************************************************************/\nimport React, {Component} from 'react';\nimport axiosBaseURL from '../axios.js';\nimport {Redirect} from 'react-router-dom';\nimport {CircleSpinner} from 'react-spinners-kit';\nimport GridApp from './grid/GridApp';\nimport GridContext from './grid/GridContext';\n\nexport default class Home extends Component {\n   static contextType = GridContext\n   constructor(props) {\n      super(props);\n      this.state = {\n         loading: true,\n         error: false,\n         redirect: null,\n      };\n   };\n   // short function that quickly calculates the number of 'on' devices\n   count_dev_state = (arr) => {\n      var result = 0;\n      for(var x = 0; arr.length > x; x++){\n         if(arr[x].device_state === 1){\n            result++;\n         }\n      }\n      return result;\n   }\n   // Upon loading the page attempt an API call to retrieve all user devices\n   componentDidMount() {\n      axiosBaseURL.get(\"/devices\") \n         .then( (app_result) => {\n            this.setState({\n               num_on: this.count_dev_state(app_result.data)\n            })\n            const context = this.context // generate a context\n            context.setItems(app_result.data) // set the items in the context equal to the device data \n                                              // retrieved from the API call\n            this.setState({loading: false})\n         })\n         .catch( (error) => {\n            this.setState({loading: false, error: true});\n            console.log(\"We ran into an issue with retrieving your device data, error: \", error.response)\n         })\n   }\n\n   render(){ // Create centered context with Page Title and quick appliance reading\n             // GridApp will load tile.js objects after passing through ./grid files\n      if(this.state.loading) {\n         return (\n            <div className=\"d-flex justify-content-center m-5\">\n               <CircleSpinner size={60} color=\"#686769\" loading={this.state.loading} />\n            </div>)\n      }\n      if(this.state.error) {\n         if(this.state.redirect) {return <Redirect to={this.state.redirect} />}\n         return(<div><h3>Error 404, Page Not Found</h3><h3>{this.state.error_response}</h3></div>)\n      }\n      return(\n         <div>\n            <div className=\"row m-3 text-light\">\n            <div className=\"col\">\n               <h1 className=\"text-center\">Home</h1>\n            </div>\n         </div>\n         <div className=\"row m-3 text-light\">\n            <div className=\"col\">\n               <h6 className=\"text-muted text-center\">\n                  {this.state.num_on} of your appliances are on.\n               </h6>\n            </div>\n         </div>\n         <GridApp/>     \n      </div>\n      )\n   }\n}\n","/****************************************************************************************************\n * FILENAME: editDevice.js\n * DESCRIPTION: Change the name or device ID of a given device\n * AUTHOR(S): Capstone 2020-2021 (Tyler Titsworth)\n * NOTES: Links from device.js\n ****************************************************************************************************/\nimport React, {Component} from 'react';\nimport {CircleSpinner} from 'react-spinners-kit' ;\nimport axiosBaseURL from '../axios.js';\nimport { Redirect } from 'react-router-dom';\n\nvar dbString // expand scope of API URL\nexport default class editDevice extends Component {\n   constructor(props) {\n     super(props);\n     this.state = {\n         myDevice: {\n            appliance_name: \"\",\n            id: 0,\n         },\n         newDevice: {\n            appliance_name: \"\",\n            id: 0,\n         },\n         allDevices: [], // array to store query of all devices within database\n                         // this is not good with scale\n\t      loading: true,\n\t      error: false,\n         idCheck: false,\n      }\n   };\n   // Upon loading the page get information about the specific device\n   componentDidMount() {\n      const handle = this.props.match.params.handle;\n\t\tdbString = \"/device/\" + handle\n\t\taxiosBaseURL.get(dbString)\n\t\t.then((result) => {\n\t\t\tthis.setState({ \n\t\t\t\tmyDevice: {\n\t\t\t\t\tid: result.data.id, \n\t\t\t\t\tappliance_name: result.data.appliance_name\n            },\n            newDevice: {\n\t\t\t\t\tid: result.data.id, \n\t\t\t\t\tappliance_name: result.data.appliance_name\n            },\n            loading: false\n\t\t\t});\n      })\n      .catch( (error) => {\n         this.setState({loading: false, error: true});\n         if(error.response){\n            this.setState({error_response: error.response.data});\n            if(error.response.data === \"not authorized\"){ this.setState({redirect: dbString}) }\n            else if (error.response.data){console.log(error.response)}\n         }\n      })\n   }\n   // Submit button will attempt to change both the device id and appliance name\n   // Information stored in the myDevice state variable will be changed by the form fields.\n   // Appliance name fields aren't unique, so we don't test for any special validity, the \n   // API will do that for us\n   updateDevice = (event) => {\n      this.setState({loading:true});\n      axiosBaseURL.get(\"/allDevices\") // API call to get all devices into array\n      .then((result) => {\n         this.setState({\n            allDevices: result.data\n         })\n         var i = 0 // what is this c?\n         for(i in this.state.allDevices) { // loop through all devices\n            // Both values need to be typecasted because javascript is %&$*@!# terrible\n            if(String(this.state.allDevices[i].id) === String(this.state.newDevice.id && String(this.state.allDevices[i].id !== String(this.state.myDevice.id)))) { // compare ids\n               this.setState({idCheck:true});  // if they match set to prevent patching\n            }\n         }\n         if(this.state.idCheck) { \n            this.setState({loading:false}) // error message\n            alert(\"Please enter a valid Device ID!\");\n         }\n         else {\n            axiosBaseURL.patch(dbString, this.state.newDevice) // API call to patch the device with new, overwritten information\n            .then((result) => { // upon success\n               this.setState({loading: false});\n                  alert(\"Device Updated Successfully!\");\n                  this.props.history.push('/home'); // redirect the user back to the home page after success\n            })\n            .catch((error)=>{ // If the previous check fails for a matching device id fails it will still fail here\n                              // because the patch API call will fail\n               this.setState({loading:false})\n               alert(\"Please enter a valid Device ID!\");\n            })\n         }\n         event.preventDefault(); // always prevent refreshing\n      })\n      .catch( (error) => {\n         this.setState({loading: false, error: true});\n         if(error.response){\n            this.setState({error_response: error.response.data});\n            if(error.response.data === \"not authorized\"){ this.setState({redirect: dbString}) }\n            else if (error.response.data){console.log(error.response)}\n         }\n      })\n   };\n   // Handler function to let the form fields change the information stored in myDevice\n   handleChangeDevice = (event) => { \n      this.setState({\n         newDevice : {...this.state.newDevice, [event.target.name]: event.target.value}\n      });\n   };\n   // Render simple form fields with a submit button\n\trender(){\n\t\tif(this.state.error) {\n         if(this.state.redirect) {return <Redirect to={this.state.redirect} />}\n         return(<div className=\"m-5 text-light\"><h3>Error 404, Page Not Found</h3></div>) \n      }\n\t\tif(this.state.loading){\n         return (\n            <div className=\"d-flex justify-content-center m-5\">\n               <CircleSpinner size={60} color=\"#686769\" loading={this.state.loading} />\n            </div>)\n\t\t}\n\t\treturn(\n<div className=\"m-5 text-light\">\n<h3>Edit Device</h3>\n<form>\n   <div className=\"form-group\">\n      <label>Appliance Name</label>\n      <input className=\"form-control text-dark\" name=\"appliance_name\" id=\"inputApplianceName\" aria-describedby=\"nameHelp\" onChange={this.handleChangeDevice} value={this.state.newDevice.appliance_name} />\n      <label>Device ID</label>\n      <input className=\"form-control text-dark\" name=\"id\" id=\"inputDeviceId\" aria-describedby=\"nameHelp\" onChange={this.handleChangeDevice} value={this.state.newDevice.id} />\n   </div>\n\n   <button onClick={this.updateDevice} className=\"btn btn-success\">Update<CircleSpinner size={20} color=\"#3BBCE5\" loading={this.state.loading} /></button>\n</form>\n</div>\n\t\t)\n\t}\n}\n\n","/****************************************************************************************************\r\n * FILENAME: editUser.js\r\n * DESCRIPTION: Accordian of options to change user settings or remove user\r\n * AUTHOR(S): Capstone 2020-2021 (Tyler Titsworth)\r\n * NOTES: Individual loading/expansion state variables can't be optimized because of the nature of js.\r\n * Accordian HTML is based on the @material-ui docs\r\n * Links from navbar.js (index.js/app.js)\r\n ****************************************************************************************************/\r\nimport React, { Component } from 'react'\r\nimport {CircleSpinner} from 'react-spinners-kit'\r\nimport axiosBaseURL from '../axios.js'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { Accordion, AccordionDetails, AccordionSummary} from '@material-ui/core/'\r\n\r\nexport default class EditUser extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         // current user information\r\n         current: {\r\n            email: \"\",\r\n            password: \"\",\r\n         },\r\n         // variables that will be changed or used to confirm information\r\n         toChange: {\r\n            email: \"\",\r\n            oldPass: \"\",\r\n            pass: \"\",\r\n            checkPass: \"\",\r\n            deleteconfirm: \"\"\r\n         },\r\n         loading: false, // this loading is for the page itself\r\n         error: false,\r\n         // each loading is for a different accordian section button, top->bottom\r\n         loading1: false, \r\n         loading2: false, \r\n         loading3: false, \r\n         // used to capture the state of the individual accordian sections\r\n         expanded1: false,\r\n         expanded2: false,\r\n         expanded3: false\r\n      };\r\n   }\r\n   // Upon loading the page, populate user settings into 'current'\r\n   componentDidMount() {\r\n      axiosBaseURL.get(\"/user/current\")\r\n      .then((result) => {\r\n         this.setState({\r\n            loading: false,\r\n            current: {\r\n               email: result.data.email,\r\n               password: result.data.password\r\n            }\r\n         });\r\n      })\r\n      .catch((error) => {\r\n         this.setState({loading: false, error: true});\r\n         if(error.response){\r\n            this.setState({error_response: error.response.status});\r\n         }\r\n      })\r\n   }\r\n   // function to handle form changes with target variables, only works with the toChange associations\r\n   // so we can't change anything outside of that state context\r\n   handleChange = (event) => {\r\n        this.setState({\r\n           toChange: {...this.state.toChange,[event.target.name]: event.target.value}\r\n        });\r\n   };\r\n   // function to handle the expansion and compression of the accordian based on the id of the identifier\r\n   handleAccordion = (id) => (event) => {\r\n      switch(id) {\r\n         case 1:\r\n            var ex1 = !this.state.expanded1\r\n            this.setState({\r\n               expanded1: ex1\r\n             });\r\n            break;\r\n         case 2:\r\n            var ex2 = !this.state.expanded2\r\n            this.setState({\r\n               expanded2: ex2\r\n             });\r\n            break;\r\n         case 3:\r\n            var ex3 = !this.state.expanded3\r\n            this.setState({\r\n               expanded3: ex3\r\n             });\r\n            break;\r\n         default: \r\n            break;\r\n      }\r\n   };\r\n   // Email submit button, will attempt to change the email of the user to information present in the form field\r\n   doEmail = (event) => {\r\n      this.setState({loading1 : true});\r\n      // check if the form field is empty, or if the email to change it the same as the current email\r\n      if(this.state.toChange.email === undefined || this.state.toChange.email === this.state.current.email) {\r\n         alert(\"Please enter valid email into field\"); // error message, prevent refreshing\r\n         this.setState({loading1: false});\r\n         event.preventDefault();\r\n      }\r\n      else {\r\n         axiosBaseURL.patch('/user/current', {email: this.state.toChange.email}) // patch the user\r\n         .then((result) => {\r\n            this.setState({loading1: false})\r\n            alert(\"User Information Successfully Updated!\"); // allow page refreshing\r\n         })\r\n         .catch((error) => {\r\n            this.setState({changeLoad: false, error: true, error_response: error.response.data})\r\n         });\r\n      }\r\n   }\r\n   // Password submit button, will attempt to change user password information based on a few form fields\r\n   doPass = (event) => {\r\n      this.setState({loading2 : true});\r\n      axiosBaseURL.post('/user/check/' + this.state.toChange.oldPass) // check if the 'current password' field matches \r\n                                                                      // since passwords are always given as hash we use an API call\r\n                                                                      // this will reveal the password of a user who attempts to change it\r\n      .then(response => {\r\n         // If the password and confirm fields match AND the status response code of the password checking is valid\r\n         if(this.state.toChange.pass === this.state.toChange.checkPass && response.status === 204) {\r\n            axiosBaseURL.patch('/user/current', {password: this.state.toChange.pass})\r\n            .then((result) => {\r\n               this.setState({loading2: false})\r\n               alert(\"User Information Successfully Updated!\"); // allow page refreshing\r\n            })\r\n         }\r\n         else { // error message otherwise, passwords have to not match in this case\r\n            alert(\"Your Passwords do not match\");\r\n            this.setState({loading2: false});\r\n            event.preventDefault(); // prevent refreshing\r\n         }\r\n      })\r\n      .catch((error) => { // if the axios call fails, its because the API call returned a 401\r\n         this.setState({loading2: false, error_response: error.response.status})\r\n         alert(\"Your old password is incorrect\") // error message\r\n         event.preventDefault(); // prevent refreshing\r\n      })\r\n   }\r\n   // Delete Account button, will attempt to remove an account given the password of the account is correct\r\n   delete = (event) => {\r\n      this.setState({loading3 : true});\r\n      const r = window.confirm(\"Are you sure?\"); // Extra confirmation step\r\n      if(r === true) {\r\n         // Instead of using /user/check we can just try to login with the given password\r\n         axiosBaseURL.post('/login', {email: this.state.current.email, password: this.state.toChange.deleteconfirm})\r\n         .then((result) => {\r\n            axiosBaseURL.delete('/user/current') // delete API call if successful\r\n            this.setState({loading3: false})\r\n            this.props.history.push('/login'); // redirect the user to the login page\r\n         })\r\n         .catch((error) => { // if it fails the password must've been incorrect\r\n                             // There is an alternative scenario where the user isn't logged in\r\n                             // In which case they will never be able to delete the account \r\n                             // More error checking is needed to activate the error state flag\r\n            this.setState({loading3: false, error_response: error.response.status});\r\n            alert(\"Password incorrect\");\r\n         })\r\n      }\r\n      else this.setState({loading : false})\r\n      event.preventDefault(); // always prevent refreshing\r\n   }\r\n   // Render the accordian with all 3 forms\r\n   // The accordian starts collapsed and can be expanded by clicking it\r\n   render() {\r\n      if(this.state.error) {\r\n         return(<div className=\"m-5 text-light\"><h3>Error: Not Logged In</h3></div>)\r\n      }\r\n      if(this.state.loading){\r\n         return (\r\n            <div className=\"d-flex justify-content-center m-5\">\r\n               <CircleSpinner size={60} color=\"#686769\" loading={this.state.loading} />\r\n            </div>)\r\n      }\r\n      return(\r\n<div className=\"m-5 text-light\">\r\n   <Accordion className=\"bg-secondary text-light\" expanded={this.state.expanded1} onChange={this.handleAccordion(1)}>\r\n      <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1bh-content\" id=\"panel1bh-header\">\r\n         Change Email\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n         <input name=\"email\" type=\"email\" className=\"form-control\" value={this.state.toChange.email} onChange={this.handleChange} id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter new email address\" />\r\n         <button onClick={this.doEmail} className=\"btn btn-outline-info\">Submit<CircleSpinner size={20} color=\"#3BBCE5\" loading={this.state.loading1} /></button>\r\n      </AccordionDetails>\r\n   </Accordion>\r\n   <Accordion className=\"bg-secondary text-light\" expanded={this.state.expanded2} onChange={this.handleAccordion(2)}>\r\n      <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel2bh-content\" id=\"panel2bh-header\">\r\n         Change Password\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n      <div className=\"d-grid gap-2 d-md-flex\">\r\n         <div className=\"form-group container-fluid\">\r\n               <label>Current Password</label>\r\n               <input name=\"oldPass\" type=\"password\" className=\"form-control\" value={this.state.toChange.oldPass} onChange={this.handleChange} id=\"exampleInputPassword\" aria-describedby=\"passwordHelp\" placeholder=\"Current Password\" />\r\n         </div>\r\n         <div className=\"form-group container-fluid\">\r\n            <label>New Password</label>\r\n            <input name=\"pass\" type=\"password\" className=\"form-control\" value={this.state.toChange.pass} onChange={this.handleChange} id=\"exampleInputPassword2\" aria-describedby=\"passwordHelp\" placeholder=\"New Password\" />\r\n         </div>\r\n         <div className=\"form-group container-fluid gap-2\">\r\n            <label>Confirm Password</label>\r\n            <input name=\"checkPass\" type=\"password\" className=\"form-control\" value={this.state.toChange.checkPass} onChange={this.handleChange} id=\"exampleInputPassword1\" aria-describedby=\"passwordHelp\" placeholder=\"Confirm Password\" />\r\n         </div>\r\n         <button onClick={this.doPass} className=\"btn btn-outline-info\">Submit<CircleSpinner size={20} color=\"#3BBCE5\" loading={this.state.loading2} /></button>\r\n      </div>\r\n      </AccordionDetails>\r\n   </Accordion>\r\n   <Accordion className=\"bg-secondary text-light\" expanded={this.state.expanded3} onChange={this.handleAccordion(3)}>\r\n      <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel3bh-content\" id=\"panel3bh-header\">\r\n         Delete Account\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n      <input name=\"deleteconfirm\" type=\"password\" className=\"form-control\" value={this.state.toChange.deleteconfirm} onChange={this.handleChange} id=\"exampleInput5\" aria-describedby=\"emailHelp\" placeholder=\"Enter your account password\" />\r\n         <button onClick={this.delete} className=\"btn btn-outline-info\">Submit<CircleSpinner size={20} color=\"#3BBCE5\" loading={this.state.loading3} /></button>\r\n      </AccordionDetails>\r\n   </Accordion>\r\n</div>\r\n       )\r\n    }\r\n}","/****************************************************************************************************\n * FILENAME: addDevice.js\n * DESCRIPTION: Create a new device object assigned to the current user\n * AUTHOR(S): Capstone 2020-2021 (Tyler Titsworth)\n * NOTES: Links from navbar (index.js/App.js)\n ****************************************************************************************************/\n import React, {Component} from 'react'\n import {CircleSpinner} from 'react-spinners-kit' \n import axiosBaseURL from '../axios.js'\n import Tile from \"./tile.js\";\n \n export default class addDevice extends Component {\n   constructor(props) {\n     super(props);\n     this.state = {\n       myDevice: {\n          id: \"0\",\n          appliance_name: \"My Appliance\",\n          device_state: 0, \n          device_battery: 100.0,\n       },\n       allDevices: [],\n       error: false,\n       redirect: null, \n       revealDetails: false, \n       loading: false, \n     };\n   }\n    // Submission button will attempt to create a new device\n    postData = (event) => {\n       this.setState({loading:true});\n       axiosBaseURL.get(\"/allDevices\") // API call to get all devices \n       .then((result) => {\n          this.setState({\n             allDevices: result.data\n          })\n       })\n       var i = 0 // what is this c?\n       let idVerify = true;\n       for(i in this.state.allDevices) // loop through all devices and compare IDs to the one given\n          if(String(this.state.myDevice.id) === String(this.state.allDevices[i].id)){ // verify the ID with string typecasting because javascript is %&#*#!^ terrible\n             idVerify = false;\n          }\n       if(idVerify && String(this.state.myDevice.id) !== \"0\"){ // Make sure the ID isn't already in use, or 0\n                                                            // an ID will be 0 if it's text or a non-integer\n          axiosBaseURL.post('/device', this.state.myDevice) // API call to create the new device\n          .then((result) => {                               // This API call handles state and battery declaration\n             this.setState({ myDevice: {...this.state.myDevice, id: result.data.id}, revealDetails:true })\n             alert(\"Device Creation Successful!\");\n             this.props.history.push('/home'); // redirect the user to the homepage to view their device\n          })                                   // but not before they get a sneak previous of what their device looks like\n          .catch((error) => {\n             this.setState({loading: false })\n             alert(\"Please enter a valid Device ID!\"); // error message if invalid device ID\n          })\n       }\n       else {\n         this.setState({loading: false })\n         alert(\"Please enter a valid Device ID!\"); // error message if invalid device ID\n       }\n       event.preventDefault(); // never refresh\n    };\n    // Handle form changes that write to the state\n    handleChangeDevice = (event) => {\n       this.setState({\n          myDevice : {...this.state.myDevice, [event.target.name]: event.target.value}\n       });\n    };\n    // Render a simple form that takes the Appliance name and Device ID with a submission button\n    render(){\n       if(this.state.error){ \n          return(<div className=\"m-5 text-light\"><h3>Error 404, Page Not Found</h3></div>) \n       }\n       const {revealDetails} = this.state;\n       return(\n <div className=\"m-5 text-light\">\n <h3>New Device</h3>\n <form>\n    <div className=\"form-group\">\n       <label>Appliance Name</label>\n       <input className=\"form-control text-dark\" name=\"appliance_name\" id=\"inputApplianceName\" aria-describedby=\"nameHelp\" onChange={this.handleChangeDevice} value={this.state.myDevice.appliance_name} />\n       <label>Device ID</label>\n       <input className=\"form-control text-dark\" name=\"id\" id=\"inputId\" aria-describedby=\"nameHelp\" onChange={this.handleChangeDevice} value={this.state.myDevice.id} min=\"1\" step=\"1\" type=\"number\" />\n    </div>\n \n    <button onClick={this.postData} className=\"btn btn-success\">Add this device<CircleSpinner size={20} color=\"#3BBCE5\" loading={this.state.loading} /></button>\n </form>\n {revealDetails && ( // publish a tile of the current state of the device once created\n    <Tile key={this.state.myDevice.id} device_id={this.state.myDevice.id} device_battery={this.state.myDevice.device_battery} appliance_name={this.state.myDevice.appliance_name} state={this.state.myDevice.device_state} timestamp={this.state.myDevice.timestamp}></Tile>\n )}\n </div>\n       )\n    }\n }\n ","/****************************************************************************************************\n * FILENAME: device.js\n * DESCRIPTION: Display device information, delete devices, and link elsewhere\n * AUTHOR(S): Capstone 2020-2021 (Tyler Titsworth)\n * NOTES: Links from home.js\n ****************************************************************************************************/\nimport React, {Component} from 'react';\nimport {Link, Redirect} from 'react-router-dom';\nimport {CircleSpinner} from 'react-spinners-kit';\nimport axiosBaseURL from '../axios.js';\n\nexport default class Devices extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\t\n\t\t\tmyDevice: { // As a general rule, storage of device information is categorized by a state variable like myDevice\n\t\t\t\tappliance_name: \"\",\n\t\t\t\tdevice_state: 1, \n\t\t\t\tdevice_battery: 100.0,\n\t\t\t\ttimestamp: \"\",\n\t\t\t\tid: 1\n\t\t\t},\n\t\terror: false,\n\t\tloading: true, \n\t\tredirect: '/home'\n\t\t}\n\t};\n\t// Upon loading the page retrieve device information and set them to the state variables allocated\n\tcomponentDidMount() {\n\t\tconst handle = this.props.match.params.handle;\n\t\tvar dbString = \"/device/\" + handle\n\t\taxiosBaseURL.get(dbString)\n\t\t.then((result) => {\n\t\t\tthis.setState({ \n\t\t\t\tmyDevice: {\n\t\t\t\t\tid: result.data.id, \n\t\t\t\t\tappliance_name: result.data.appliance_name, \n\t\t\t\t\tdevice_state: result.data.device_state, \n\t\t\t\t\tdevice_battery: result.data.device_battery, \n\t\t\t\t\ttimestamp: result.data.timestamp\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.setState({loading: false})\n\t\t})\n\t\t.catch( (error) => {\n\t\t\tthis.setState({error: true, loading:false});\n\t\t})\n\t};\n\t// When clicking the red 'X' in the top right corner it will attempt to delete the device\n\tdeleteDevice = (event) => {\n\t\t// Extra Confirmation step\n\t\tconst r = window.confirm(\"Do you really want to delete this, it will be permanent!\"); \n\t\tif(r === true){\n\t\t\tconst handle = this.props.match.params.handle;\n\t\t\tvar dbString = \"/device/\" + handle\n\t\t   \taxiosBaseURL.delete(dbString) // API call to remove the device\n\t\t   \t.then((result) => { // upon success\n\t\t\t  this.setState({ loading: false}); \n\t\t\t  alert(\"Device Removed Successfully!\");\n\t\t\t  this.props.history.push('/home'); // redirect the user to the homepage\n\t\t   })\n\t\t   .catch((error) => { // This only fails if the user isn't logged in \n\t\t\t\t\t\t\t   // or it was removed inbetween the time the page loaded \n\t\t\t\t\t\t\t   // and the delete button was pressed\n\t\t\t  this.setState({ error: true });\n\t\t\t  if(error.response){\n\t\t\t\t console.log(error.response)\n\t\t\t\t this.setState({error_response: error.response.data})\n\t\t\t  }\n\t\t   })\n\t\t   event.preventDefault();\n\t\t}\n\t};\n\t// Render a large card that displays all device information, with some buttons spread around\n\t// Buttons not naturally justified are floating\n\trender() {\n\t\tvar myDate\n\t\tif (this.state.myDevice.timestamp === \"N/A\") myDate = this.state.myDevice.timestamp;\n\t\telse {\n\t\t   myDate = new Date(this.state.myDevice.timestamp);\n\t\t   myDate = myDate.toLocaleString();\n\t\t}\n\t\tif(this.state.loading) {\n\t\t\treturn (\n\t\t\t  <div className=\"d-flex justify-content-center m-5\">\n\t\t\t\t <CircleSpinner size={60} color=\"#686769\" loading={this.state.loading} />\n\t\t\t  </div>)\n\t\t}\n\t\tif(this.state.error) {\n\t\t\tif(this.state.redirect) {return <Redirect to={this.state.redirect} />}\n\t\t\treturn(<div><h3>Error 404, Page Not Found</h3><h3>{this.state.error_response}</h3></div>)\n\t\t}\n\t\treturn(\n\t\t\t<div className=\"col mt-3 text-light\">\n\t\t\t\t<div className=\"card bg-dark\">\n\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t\t<button onClick={this.deleteDevice} className=\"btn btn-sm btn-danger float-right\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Delete Device\">✖<CircleSpinner size={20} color=\"#3BBCE5\" loading={this.state.loading} /></button>\n\t\t\t\t\t\t\t<h5 className=\"card-title text-wrap\">{this.state.myDevice.appliance_name}</h5>\n\t\t\t\t\t\t\t<p className=\"card-title text-wrap\">Device ID: {this.state.myDevice.id}</p>\n\t\t\t\t\t\t\t<p className=\"card-text\">State: {this.state.myDevice.device_state ? 'ON' : 'OFF'}</p>\n\t\t\t\t\t\t\t<p className=\"card-text\">Battery: {this.state.myDevice.device_battery}%</p>\n\t\t\t\t\t\t\t<p className=\"card-text\">Last Seen: {myDate}</p>\n\t\t\t\t\t\t\t<Link to={\"/device/\" + this.state.myDevice.id + \"/edit\"} className=\"btn btn-primary text-wrap\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Change Device Details\">Modify</Link>\n\t\t\t\t\t\t\t<Link to={\"/device/\" + this.state.myDevice.id + \"/logs\"} className=\"btn btn-success text-wrap float-right\">Battery Logs</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n","/****************************************************************************************************\n * FILENAME: App.js\n * DESCRIPTION: Create a react router that navigates the user throughout the application\n * AUTHOR(S): Capstone 2020-2021 (Tyler Titsworth)\n * NOTES: Don't use hooks with this layout, they just don't work with the react-router-dom library.\n * CSS is Depreciated\n ****************************************************************************************************/\nimport React, { Component } from 'react';\n// This import defines the Router as a HashRouter, rather than a BrowserRouter\n// HashRouter uses browser cache to save the current and previous page data to allow for a user to navigate between them using their browser\n// A BrowserRouter uses HTML5 to cache page information, but doesn't work\n// URLs will be appended with a /#/ to signify that the hash router is working\nimport { Switch, Route, HashRouter as Router } from 'react-router-dom';\nimport './App.css';\nimport Logs from './components/logs';\nimport MyNavbar from './components/navbar';\nimport Default from './components/default';\nimport Login from './components/login';\nimport Signup from './components/signup';\nimport Logout from './components/logout'\nimport Home from './components/home';\nimport EditUser from './components/editUser';\nimport addDevice from './components/addDevice';\nimport editDevice from './components/editDevice';\nimport Device from './components/device';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n// Define NavRoute, which will instantiate a navigation bar in router elements with the 'NavRoute' definition\nconst NavRoute = ({exact, path, component: Component}) => (\n  <Route exact={exact} path={path} render={(props) => (\n    <div>\n      <MyNavbar />\n      <Component {...props}/>\n    </div>\n  )}/>\n)\nclass App extends Component { // This class will render the entire navigation tree, all users who navigate will be brought to the Login.js file\n                              // Pages that can't be handleded will be brought to the default.js file, which presents a 404\n                              // :handle methods will pass in a variable like an interface id\n  render() {\n    return (\n      <React.Fragment>\n        <Router>\n          <Switch>\n            <Route exact path=\"/\" component={Login} />\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/logout\" component={Logout} />\n            <Route exact path=\"/signup\" component={Signup} />\n            <NavRoute exact path=\"/home\" component={Home} />\n            <NavRoute exact path=\"/device/new\" component={addDevice} />\n            <NavRoute exact path=\"/device/:handle\" component={Device} />\n            <NavRoute exact path=\"/device/:handle/logs\" component={Logs} />\n            <NavRoute exact path=\"/device/:handle/edit\" component={editDevice} />\n            <NavRoute exact path=\"/user/edit\" component={EditUser} />\n            <NavRoute component={Default} />\n          </Switch>\n        </Router>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;","/****************************************************************************************************\n * FILENAME: index.js\n * DESCRIPTION: Insubstantiate the App.js file with the potential to invoke the grid and drag-n-drop \n * implementations\n * AUTHOR(S): Capstone 2019-2020\n * NOTES: This file is mandatory for react compilation. CSS is depriciated.\n ****************************************************************************************************/\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { DndProvider } from \"react-dnd\";\nimport { GridProvider } from \"./components/grid/GridContext\";\nimport { TouchBackend } from'react-dnd-touch-backend';\n\n//React DnD warns this option may be buggy, needs more testing\nconst options = {enableMouseEvents: true}\n\nReactDOM.render(\n   <DndProvider backend={TouchBackend} options={options}>\n      <GridProvider>\n         <App />\n      </GridProvider>\n   </DndProvider>,\n   document.getElementById('app')\n);"],"sourceRoot":""}