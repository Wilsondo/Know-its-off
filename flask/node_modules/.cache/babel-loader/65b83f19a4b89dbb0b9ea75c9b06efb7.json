{"ast":null,"code":"import firebase from'firebase/app';import'firebase/messaging';var firebaseConfig={apiKey:\"YOUR_API_KEY\",authDomain:\"YOUR_AUTH_DOMAIN\",projectId:\"YOUR_PROJECT_ID\",storageBucket:\"YOUR_STORAGE_BUCKET\",messagingSenderId:\"YOUR_MESSAGING_SENDER_ID\",appId:\"YOUR_APP_ID\"};firebase.initializeApp(firebaseConfig);var messaging=firebase.messaging();export var getToken=function getToken(setTokenFound){return messaging.getToken({vapidKey:'GENERATED_MESSAGING_KEY'}).then(function(currentToken){if(currentToken){console.log('current token for client: ',currentToken);setTokenFound(true);// Track the token -> client mapping, by sending to backend server\n// show on the UI that permission is secured\n}else{console.log('No registration token available. Request permission to generate one.');setTokenFound(false);// shows on the UI that permission is required \n}}).catch(function(err){console.log('An error occurred while retrieving token. ',err);// catch error while creating client token\n});};export var onMessageListener=function onMessageListener(){return new Promise(function(resolve){messaging.onMessage(function(payload){resolve(payload);});});};","map":{"version":3,"sources":["/mnt/e/MyReact/new_frontend/src/components/firebase.js"],"names":["firebase","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","initializeApp","messaging","getToken","setTokenFound","vapidKey","then","currentToken","console","log","catch","err","onMessageListener","Promise","resolve","onMessage","payload"],"mappings":"AAAA,MAAOA,CAAAA,QAAP,KAAqB,cAArB,CACA,MAAO,oBAAP,CAEA,GAAIC,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,cADW,CAEnBC,UAAU,CAAE,kBAFO,CAGnBC,SAAS,CAAE,iBAHQ,CAInBC,aAAa,CAAE,qBAJI,CAKnBC,iBAAiB,CAAE,0BALA,CAMnBC,KAAK,CAAE,aANY,CAArB,CASAP,QAAQ,CAACQ,aAAT,CAAuBP,cAAvB,EAEA,GAAMQ,CAAAA,SAAS,CAAGT,QAAQ,CAACS,SAAT,EAAlB,CAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,aAAD,CAAmB,CACvC,MAAOF,CAAAA,SAAS,CAACC,QAAV,CAAmB,CAACE,QAAQ,CAAE,yBAAX,CAAnB,EAA0DC,IAA1D,CAA+D,SAACC,YAAD,CAAkB,CACtF,GAAIA,YAAJ,CAAkB,CAChBC,OAAO,CAACC,GAAR,CAAY,4BAAZ,CAA0CF,YAA1C,EACAH,aAAa,CAAC,IAAD,CAAb,CACA;AACA;AACD,CALD,IAKO,CACLI,OAAO,CAACC,GAAR,CAAY,sEAAZ,EACAL,aAAa,CAAC,KAAD,CAAb,CACA;AACD,CACF,CAXM,EAWJM,KAXI,CAWE,SAACC,GAAD,CAAS,CAChBH,OAAO,CAACC,GAAR,CAAY,4CAAZ,CAA0DE,GAA1D,EACA;AACD,CAdM,CAAP,CAeD,CAhBI,CAkBP,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,SAC/B,IAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAa,CACvBZ,SAAS,CAACa,SAAV,CAAoB,SAACC,OAAD,CAAa,CAC/BF,OAAO,CAACE,OAAD,CAAP,CACD,CAFD,EAGH,CAJC,CAD+B,EAA1B","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/messaging';\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"YOUR_API_KEY\",\r\n  authDomain: \"YOUR_AUTH_DOMAIN\",\r\n  projectId: \"YOUR_PROJECT_ID\",\r\n  storageBucket: \"YOUR_STORAGE_BUCKET\",\r\n  messagingSenderId: \"YOUR_MESSAGING_SENDER_ID\",\r\n  appId: \"YOUR_APP_ID\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst messaging = firebase.messaging();\r\n\r\nexport const getToken = (setTokenFound) => {\r\n    return messaging.getToken({vapidKey: 'GENERATED_MESSAGING_KEY'}).then((currentToken) => {\r\n      if (currentToken) {\r\n        console.log('current token for client: ', currentToken);\r\n        setTokenFound(true);\r\n        // Track the token -> client mapping, by sending to backend server\r\n        // show on the UI that permission is secured\r\n      } else {\r\n        console.log('No registration token available. Request permission to generate one.');\r\n        setTokenFound(false);\r\n        // shows on the UI that permission is required \r\n      }\r\n    }).catch((err) => {\r\n      console.log('An error occurred while retrieving token. ', err);\r\n      // catch error while creating client token\r\n    });\r\n  }\r\n\r\nexport const onMessageListener = () =>\r\n  new Promise((resolve) => {\r\n    messaging.onMessage((payload) => {\r\n      resolve(payload);\r\n    });\r\n});"]},"metadata":{},"sourceType":"module"}