{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/mnt/e/MyReact/new_frontend/src/components/logs.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { CircleSpinner } from 'react-spinners-kit';\nimport axiosBaseURL from '../axios.js';\nimport CsvDownload from 'react-json-to-csv';\nexport default class batteryLogs extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      battery: [{\n        device_battery: 100.0,\n        timestamp_time: \"\"\n      }],\n      error: false,\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    const handle = this.props.match.params.handle;\n    var dbString = \"/batteryLogs/\" + handle;\n    axiosBaseURL.get(dbString).then(result => {\n      this.setState({\n        battery: result.data\n      });\n      console.log(result);\n      console.log(this.state);\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center m-5\",\n        children: /*#__PURE__*/_jsxDEV(CircleSpinner, {\n          size: 60,\n          color: \"#686769\",\n          loading: this.state.loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 6\n      }, this);\n    }\n\n    if (this.state.error) {\n      if (this.state.redirect) {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: this.state.redirect\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 36\n        }, this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"There was an error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: this.state.error_response\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 43\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table\",\n      children: [this.state.battery.map(battery => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col mt-3 text-light\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card bg-dark\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: [\"Battery: \", battery.device_battery, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: [\"Last Seen: \", battery.timestamp_time]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)), /*#__PURE__*/_jsxDEV(CsvDownload, {\n        className: \"btn btn-info\",\n        data: this.state.battery\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/mnt/e/MyReact/new_frontend/src/components/logs.js"],"names":["React","Component","Redirect","CircleSpinner","axiosBaseURL","CsvDownload","batteryLogs","constructor","props","state","battery","device_battery","timestamp_time","error","loading","componentDidMount","handle","match","params","dbString","get","then","result","setState","data","console","log","render","redirect","error_response","map"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport { Redirect} from 'react-router-dom';\r\nimport {CircleSpinner} from 'react-spinners-kit';\r\nimport axiosBaseURL from '../axios.js';\r\nimport CsvDownload from 'react-json-to-csv';\r\n\r\nexport default class batteryLogs extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\t\r\n\t\t\tbattery: [\r\n                {device_battery: 100.0, timestamp_time: \"\"}\r\n            ],\r\n\t\terror: false,\r\n\t\tloading: true\r\n\t\t}\r\n\t};\r\n\tcomponentDidMount() {\r\n\t\tconst handle = this.props.match.params.handle;\r\n\t\tvar dbString = \"/batteryLogs/\" + handle\r\n\t\taxiosBaseURL.get(dbString)\r\n\t\t.then((result) => {\r\n\t\t\tthis.setState({ \r\n\t\t\t\tbattery: result.data\r\n\t\t\t});\r\n            console.log(result)\r\n            console.log(this.state)\r\n\t\t\tthis.setState({loading: false})\r\n\t\t})\r\n\t};\r\n\trender() {\r\n\t\tif(this.state.loading) {\r\n\t\t\treturn (\r\n\t\t\t  <div className=\"d-flex justify-content-center m-5\">\r\n\t\t\t\t <CircleSpinner size={60} color=\"#686769\" loading={this.state.loading} />\r\n\t\t\t  </div>)\r\n\t\t}\r\n\t\tif(this.state.error) {\r\n\t\t\tif(this.state.redirect) {return <Redirect to={this.state.redirect} />}\r\n\t\t\treturn(<div><h3>There was an error</h3><h3>{this.state.error_response}</h3></div>)\r\n\t\t }\r\n\t\treturn(\r\n            <table className=\"table\">\r\n            {this.state.battery.map((battery) => (\r\n                <div className=\"col mt-3 text-light\">\r\n                <div className=\"card bg-dark\">\r\n                      <div className=\"card-body\">\r\n                            <p className=\"card-text\">Battery: {battery.device_battery}%</p>\r\n                            <p className=\"card-text\">Last Seen: {battery.timestamp_time}</p>\r\n                      </div>\r\n                </div>\r\n                </div>\r\n            ))}\r\n\t\t\t<CsvDownload className=\"btn btn-info\" data={this.state.battery} />\r\n            </table>\r\n\t\t)\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}